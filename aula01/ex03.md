--EXERCÍCIO 3    
--## 3. Modelagem de Sistema  
--Escolher um sistema simples (ex: escola, loja, hospital) e:  
-- Desenhar as tabelas necessárias  
-- Definir os relacionamentos  
-- Justificar as escolhas de tipos de dados  
-- Identificar chaves primárias e estrangeiras  


```sql
-- tabela para armazenar os dados dos clientes.
CREATE TABLE clientes (
    cliente_id SERIAL PRIMARY KEY,
    nome VARCHAR(150) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE
);


-- tabela para o catálogo de produtos.
CREATE TABLE produtos (
    produto_id SERIAL PRIMARY KEY,
    nome_produto VARCHAR(200) NOT NULL,
    preco NUMERIC(10, 2) NOT NULL,
    estoque INTEGER NOT NULL DEFAULT 0 -- DEFAULT 0 garante que o estoque inicial seja 0 caso não seja informado no registro.
);


-- tabela para armazenar as informações de cada pedido.
CREATE TABLE pedidos (
    pedido_id SERIAL PRIMARY KEY,
    cliente_id INTEGER NOT NULL,
    data_pedido DATE NOT NULL, 
    FOREIGN KEY (cliente_id) REFERENCES clientes (cliente_id) --Define a conexão entre pedidos e clientes
);


-- essa tabela precisa que 'pedidos' e 'produtos' já existam.
CREATE TABLE itens_pedido (
    item_id SERIAL PRIMARY KEY,
    pedido_id INTEGER NOT NULL,
    produto_id INTEGER NOT NULL,
    quantidade INTEGER NOT NULL,
    preco_unitario NUMERIC(10, 2) NOT NULL, -- guarda o preço no momento da compra.
    FOREIGN KEY (pedido_id) REFERENCES pedidos (pedido_id), -- é a chave estrangeira pra conexão com a tabela de pedidos
    FOREIGN KEY (produto_id) REFERENCES produtos (produto_id) -- é a chave estrangeira pra conexão com a tabela de produtos
);

```

![MODELAGEMDB](https://github.com/mulinco/instituto_consuelo/blob/main/aula01/imgs/modelagembanco.png?raw=true)
